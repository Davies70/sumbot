<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sumbot AI Text Summarizer</title>
    <link rel="stylesheet" href="src/style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="icon" href="/robot.png" type="image/x-icon" />
    <style>
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }
      .status-dot {
        animation: pulse 2s infinite;
      }

      .range-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 16px;
        height: 16px;
        background: #3b82f6;
        border-radius: 9999px;
        cursor: pointer;
        box-shadow: 0 2px 4px rgba(59, 130, 246, 0.4);
        transition: transform 0.2s ease;
      }
      .range-slider::-webkit-slider-thumb:hover {
        transform: scale(1.15);
      }

      .spinner {
        width: 20px;
        height: 20px;
        border: 2px solid #e5e7eb;
        border-top: 2px solid #3b82f6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .custom-scroll::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scroll::-webkit-scrollbar-track {
        background: transparent;
      }
      .custom-scroll::-webkit-scrollbar-thumb {
        background: rgba(59, 130, 246, 0.4);
        border-radius: 9999px;
      }
    </style>
  </head>
  <body class="font-sans min-h-screen flex flex-col bg-gray-50 text-gray-800">
    <!-- Header -->
    <header class="bg-white border-b border-gray-200 p-4 shadow-sm">
      <div
        class="max-w-6xl mx-auto flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2"
      >
        <h1 class="text-xl sm:text-2xl font-bold text-gray-900">
          <img src="./public/robot.png" alt="robot image" />
          <span>SumBot: AI Text Summarizer</span>
        </h1>
        <div class="flex items-center gap-2 text-gray-500 text-sm">
          <div class="w-2 h-2 rounded-full bg-emerald-500 status-dot"></div>
          <span>Ready to summarize</span>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="w-full max-w-6xl mx-auto flex flex-col lg:flex-row gap-4 p-4">
      <!-- Input Panel -->
      <section
        class="flex-1 basis-1/2 shrink-0 flex flex-col min-h-[400px] bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden"
      >
        <div class="border-b border-gray-200 px-4 py-3 bg-gray-50">
          <h2 class="text-gray-700 font-semibold">📝 Input Text</h2>
        </div>
        <div class="flex-1 flex flex-col p-4">
          <textarea
            id="inputText"
            class="flex-1 w-full min-h-[200px] md:min-h-[300px] rounded-md border border-gray-300 p-3 text-sm leading-relaxed bg-white text-gray-800 placeholder:text-gray-400 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 resize-none"
            placeholder="Paste or type your text here..."
          ></textarea>
          <div id="wordCount" class="text-xs text-gray-500 text-right mt-2">
            0 words
          </div>
        </div>
      </section>

      <!-- Output Panel -->
      <section
        class="flex-1 basis-1/2 shrink-0 flex flex-col min-h-[400px] bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden"
      >
        <div class="border-b border-gray-200 px-4 py-3 bg-gray-50">
          <h2 class="text-gray-700 font-semibold">✨ Summary</h2>
        </div>
        <div class="flex-1 flex flex-col p-4 overflow-hidden">
          <div
            id="outputContainer"
            class="flex-1 min-h-[200px] md:min-h-[300px] rounded-md border border-gray-200 p-3 bg-white overflow-y-auto mb-4 custom-scroll relative"
          >
            <!-- Placeholder -->
            <div
              id="placeholder"
              class="text-gray-400 italic text-center flex flex-col items-center gap-2 p-6"
            >
              <div class="text-3xl">📄</div>
              <div>Your AI-powered summary will appear here...</div>
              <div class="text-xs mt-1">
                Enter text and click "Summarize" to get started
              </div>
            </div>

            <!-- Loader -->
            <div
              id="loadingIndicator"
              class="hidden absolute inset-0 bg-white/80 items-center justify-center gap-2"
            >
              <div
                class="spinner border-4 border-gray-300 border-t-blue-500 w-8 h-8 rounded-full animate-spin"
              ></div>
              <span class="text-gray-700 font-medium"
                >Analyzing and summarizing...</span
              >
            </div>

            <!-- Results -->
            <div id="summaryResults" class="hidden"></div>
          </div>

          <!-- Controls -->
          <div
            class="bg-gray-50 rounded-md p-4 border border-gray-200 space-y-4"
          >
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >📏 Summary Length</label
              >
              <div class="relative">
                <input
                  id="summaryLength"
                  type="range"
                  min="1"
                  max="10"
                  value="3"
                  class="range-slider w-full h-2 bg-gray-200 rounded-lg accent-blue-500 cursor-pointer"
                />
                <div
                  id="lengthValue"
                  class="absolute -top-6 right-0 bg-blue-500 text-white px-2 py-0.5 rounded text-xs font-semibold"
                >
                  3
                </div>
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1"
                >🧠 Algorithm</label
              >
              <select
                id="algorithm"
                class="w-full rounded-md border border-gray-300 p-2 text-sm bg-white text-gray-800 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"
              >
                <option value="simple">Simple Extraction</option>
                <option value="keywords">Keyword-based Analysis</option>
                <option value="frequency">Frequency-based Ranking</option>
              </select>
            </div>

            <!-- Keyword Count -->
            <div id="keywordCountContainer" class="hidden">
              <label class="block text-sm font-medium text-gray-700 mb-1">
                🔑 Keywords Count
              </label>
              <input
                id="keywordCount"
                type="number"
                min="1"
                max="20"
                value="5"
                class="w-full rounded-md border border-gray-300 p-2 text-sm bg-white text-gray-800 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200"
              />
            </div>

            <button
              id="summarizeBtn"
              class="w-full bg-blue-600 hover:bg-blue-700 text-white rounded-md py-2 text-sm font-semibold shadow-sm transition disabled:opacity-60 disabled:cursor-not-allowed"
            >
              🚀 Summarize Text
            </button>
          </div>
        </div>
      </section>
    </main>

    <footer
      class="text-center text-xs text-gray-500 py-3 border-t border-gray-200"
    >
      Built with ❤️ for smarter reading
    </footer>

    <script type="module" src="./src/main.js"></script>
  </body>
</html>
